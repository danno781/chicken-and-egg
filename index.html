<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Chicken and Egg</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="">
	
	<link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.0/css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
	<link href="//netdna.bootstrapcdn.com/font-awesome/3.0.2/css/font-awesome.css" rel="stylesheet">
	<link href='http://fonts.googleapis.com/css?family=Roboto:100,300,400' rel='stylesheet' type='text/css'>
	
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	<script src="//ajax.aspnetcdn.com/ajax/knockout/knockout-2.2.1.js"></script>
	
	<!-- DEV -->
	<script src="js/searchprovider.js"></script>
	<script src="js/item.js"></script>
	<script src="js/list.js"></script>
	<script src="js/lists.js"></script>
	<link href="css/main.css" rel="stylesheet">
	
	<!-- PROD -->
<!-- 	<script src="cae.js"></script> -->
<!-- 	<link href="cae.css" rel="stylesheet"> -->
	
<!-- 	<link rel="apple-touch-icon-precomposed" sizes="144x144" href=""> -->
<!-- 	<link rel="apple-touch-icon-precomposed" sizes="114x114" href=""> -->
<!-- 	<link rel="apple-touch-icon-precomposed" sizes="72x72" href=""> -->
<!-- 	<link rel="apple-touch-icon-precomposed" href=""> -->
<!-- 	<link rel="shortcut icon" href=""> -->
</head>

<body>

<div class="container">
	<div class="window">
	
		<div class="view" data-bind="visible: view() == 'home'">
			<h2>Chicken and Egg</h2>
	
			<button class="btn btn-large btn-success add-btn" data-bind="click: newList">Create a list</button>
			
			<div data-bind="visible: lists().length < 1">
				<p>You have no saved shopping lists at the moment.</p>
			</div>
			
			<div data-bind="visible: lists().length > 0">
				<p>Your saved shopping lists:</p>
				<ul class="nav nav-tabs nav-stacked" data-bind="foreach: lists">
					<li>
						<a href="#" class="clearfix" data-bind="click: function() { $parent.editList($index()) }">
							<div class="pull-left" data-bind="text: name"></div>
							<button class="btn btn-mini btn-danger pull-right" data-bind="click: function() { $parent.lists.remove($data) }"><i class="icon-remove"></i></button>
						</a>
					</li>
				</ul>
			</div>
			
		</div>
		
		<div class="view" data-bind="visible: view() == 'edit', with: currentList">
			<div class="clearfix">
				<div class="pull-left">
					<div class="clearfix" data-bind="visible: !editingName()">
						<button class="btn pull-left list-name-btn" data-bind="click: function() { editingName(true) }"><i class="icon-pencil"></i></button>
						<div class="pull-left list-name" data-bind="text: name"></div>
					</div>
					<div class="clearfix" data-bind="visible: editingName">
						<button class="btn pull-left list-name-btn list-name-join" data-bind="click: function() { editingName(false) }"><i class="icon-ok"></i></button>
						<input type="text" id="listNameEditor" class="pull-left list-name list-name-join" data-bind="value: name, hasfocus: editingName" />
					</div>
				</div>
				<div class="btn-group pull-right">
					<button class="btn" data-bind="click: function() { $parent.view('home') }"><i class="icon-home"></i></button>
					<button class="btn" data-bind="enable: items().length, click: function() { $parent.view('checkout') }">
						<i class="icon-shopping-cart"></i>
						<span class="badge badge-info" data-bind="visible: items().length, text: items().length"></span>
					</button>
				</div>
			</div>
			<form class="form-search" data-bind="submit: search">
				<div class="input-append">
					<input type="text" class="span4 search-query" placeholder="Find products to add to this list" data-bind="value: query">
					<button type="submit" class="btn">Search</button>
				</div>
			</form>
			<p data-bind="visible: results().length == 0 && query().length">There are no products similar to "<span data-bind="text: query"></span>". Please try again.</p>
			
			
			<ul class="nav nav-tabs nav-stacked" data-bind="visible: results().length, foreach: results">
				<li>
					<a href="#" class="clearfix" data-bind="click: function() { }">
						<div class="pull-left" data-bind="text: name"></div>
						<div class="btn-group pull-right" data-bind="visible: !itemInList()">
							<button class="btn btn-mini btn-success" data-bind="click: function() { $parent.addToList($data) }"><i class="icon-plus"></i></button>
						</div>
						<div class="btn-group pull-right" data-bind="visible: itemInList">
							<button class="btn btn-mini" data-bind="click: function() { itemInList().increment(); return false; }"><i class="icon-chevron-up"></i></button>
							<button class="btn btn-mini" data-bind="click: function() { itemInList().decrement(); return false; }"><i class="icon-chevron-down"></i></button>
							<button class="btn btn-mini btn-danger" data-bind="click: function() { $parent.removeFromList($data) }"><i class="icon-remove"></i></button>
						</div>
						<span class="badge badge-info pull-right" data-bind="visible: itemInList, text: itemInList().number">0</span>
					</a>
				</li>
			</ul>
		</div>
		
		<div class="view" data-bind="visible: view() == 'basket'">
			<p>Basket</p>
		</div>
		
		<div class="view" data-bind="visible: view() == 'checkout'">
			<p>Checkout</p>
		</div>
		
		<div class="view" data-bind="visible: view() == 'checkout-detail`'">
			<p>Checkout detail</p>
		</div>
	
	</div>
</div>

</body>
</html>
